@using HelpfulHaversack.Web.Models.Dto
@model IEnumerable<TreasuryDto>

<div class="card shadow border-0 mt-4">
	<div class="card-header bg-secondary bg-gradient ml-0 py-3">
		<div class="row">
			<div class="col-12 text-center">
				<h1 class="text-white">Treasury List</h1>
			</div>
		</div>
	</div>
	<div class="card-body p-4">
		<div class="row pb-3">
			<div class="col-6">
			</div>
			<div class="col-6 text-end">
				<a class="btn btn-success"><i class="bi bi-plus-square"></i> Create New Treasury</a>

			</div>
		</div>
		<div class="container">
			<div class="row">
				<div class="col">
					<table class="table table-striped border-black border">
						<thead>
							<tr>
								<th class="fw-bold">
									Name
								</th>
								<th class="fw-bold">
									Number of Items
								</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							@foreach(var treasury in Model)
							{
								<tr>
									<td>
										@treasury.Name
									</td>
									<td>
										@((treasury.Inventory.Count()).ToString())
									</td>
									<td>
										<a class="btn btn-secondary float-end" data-bs-toggle="collapse" data-bs-target="#id-@treasury.TreasuryId">
											<i class="bi bi-chevron-down"></i>
										</a>
									</td>
								</tr>

								<tr class="hiddenRow">
									<td colspan="5">	
										<div class="collapse" id="id-@treasury.TreasuryId">
											<div class="container">
												@foreach(var item in treasury.Inventory)
												{
													<a>
														<div class="row subRow">
															@item.Name&nbsp;x1
														</div>
													</a>
												}
											</div>
										</div>
									</td>
								</tr>
							}
						</tbody>
					</table>
				</div>
				<div class="col border">
					<table>
						<thead>

						</thead>
					</table>

				</div>
			</div>
		</div>

	</div>

</div>